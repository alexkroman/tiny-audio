# @package _global_
# Linear projector (Chinese Dialects paper style)
# Based on arXiv:2505.21138
# - Simple: AvgPool(4x) -> Linear(encoder_dim, llm_dim)
# - Best performer in Stage 1 (projector-only training)
# - 4x downsampling = 12.5Hz audio token rate
#
# Dimensions (auto-detected):
#   GLM-ASR-Nano-2512 encoder: 2048
#   Qwen3-1.7B LLM: 2048

model:
  projector_type: mlp
  projector_pool_stride: 4  # 4x downsampling (50Hz -> 12.5Hz)
  audio_model_id: zai-org/GLM-ASR-Nano-2512
  text_model_id: Qwen/Qwen3-0.6B

training:
  hub_model_id: "mazesmazes/tiny-audio"
  per_device_train_batch_size: 20
  per_device_eval_batch_size: 20
  gradient_accumulation_steps: 2
  num_train_epochs: 1
  save_steps: 1000
  eval_steps: 1000

  # SpecAugment settings
  use_specaugment: false

  # Time Masking
  mask_time_length: 100
  mask_time_min_masks: 2
  mask_time_prob: 0.0

  # Frequency Masking
  mask_feature_length: 27
  mask_feature_min_masks: 2
  mask_feature_prob: 0.0
