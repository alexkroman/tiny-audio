# @package _global_
# MOSA-Base (Mixture of Simple Adapters) projector
# 4 experts with simple 2-layer GELU router (per arXiv:2508.18998)

model:
  projector_type: mosa
  num_experts: 4
  projector_pool_stride: 2
  audio_model_id: zai-org/GLM-ASR-Nano-2512
  text_model_id: Qwen/Qwen3-1.7B

training:
  hub_model_id: "mazesmazes/tiny-audio"
  per_device_train_batch_size: 8
  per_device_eval_batch_size: 8
  gradient_accumulation_steps: 2
  num_train_epochs: 1
  save_steps: 1000
  eval_steps: 1000

  # SpecAugment settings
  use_specaugment: true

  # Time Masking
  mask_time_length: 100       # (T) Max length of time mask
  mask_time_min_masks: 2      # (m_T) Exact number of time masks
  mask_time_prob: 0.0         # Set to 0 to enforce fixed count (min_masks) only

  # Frequency Masking
  mask_feature_length: 27     # (F) Max length of freq mask
  mask_feature_min_masks: 2   # (m_F) Exact number of freq masks
  mask_feature_prob: 0.0      # Set to 0 to enforce fixed count (min_masks) only