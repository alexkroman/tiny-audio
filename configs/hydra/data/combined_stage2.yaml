# Stage 2 data configuration - AGGRESSIVE weighting to close WER gaps vs SLAM
# Heavy focus on CommonVoice (biggest gap at 41% relative)
datasets:
  # Common Voice English - ðŸ”´ Critical: 41% relative gap - HEAVY FOCUS
  - path: fixie-ai/common_voice_17_0
    name: en
    audio_column: audio
    text_column: sentence
    task: transcribe
    train_splits:
      - train
    eval_splits:
      - validation
    sampling_weight: 0.25

  # People's Speech - ðŸ”´ High: 14% relative gap
  - path: fixie-ai/peoples_speech
    name: clean
    audio_column: audio
    text_column: text
    task: transcribe
    train_splits:
      - train
    eval_splits:
      - validation
    sampling_weight: 0.15

  # AMI ASR - ðŸ”´ High: 20% relative gap
  - path: TakalaWang/AMI_ASR
    name: null
    audio_column: audio
    text_column: text
    task: transcribe
    train_splits:
      - train
    eval_splits:
      - validation
    sampling_weight: 0.15

  # Earnings22 - ðŸŸ¡ Medium gap
  - path: sanchit-gandhi/earnings22_robust_split
    name: default
    audio_column: audio
    text_column: sentence
    task: transcribe
    train_splits:
      - train
    eval_splits:
      - validation
    sampling_weight: 0.12

  # LibriSpeech Other - ðŸŸ¡ Medium gap
  - path: openslr/librispeech_asr
    name: other
    audio_column: audio
    text_column: text
    task: transcribe
    train_splits:
      - train.500
    eval_splits:
      - validation
    sampling_weight: 0.10

  # TEDLIUM - ðŸŸ¢ Close
  - path: sanchit-gandhi/tedlium-data
    name: default
    audio_column: audio
    text_column: text
    task: transcribe
    train_splits:
      - train
    eval_splits:
      - validation
    sampling_weight: 0.08

  # LibriSpeech Clean - ðŸŸ¢ Close
  - path: openslr/librispeech_asr
    name: clean
    audio_column: audio
    text_column: text
    task: transcribe
    train_splits:
      - train.100
      - train.360
    eval_splits:
      - validation
    sampling_weight: 0.05

  # GigaSpeech - âœ… Already winning
  - path: fixie-ai/gigaspeech
    name: xl
    audio_column: audio
    text_column: text
    task: transcribe
    train_splits:
      - train
    eval_splits:
      - validation
    sampling_weight: 0.05

  # Loquacious Medium - âœ… Already winning
  - path: speechbrain/LoquaciousSet
    name: medium
    audio_column: wav
    text_column: text
    task: transcribe
    train_splits:
      - train
    eval_splits:
      - dev
    sampling_weight: 0.05

# Audio processing
sample_rate: 16000
max_audio_duration_seconds: 20.0  # Increased for stage 2

# Processing options
dataset_cache_dir: ${hydra:runtime.cwd}/datasets_cache
max_train_samples: null
max_eval_samples: 3000
use_streaming: true
